<!doctype html>

<html lang="en">  
<head>  
<meta charset="utf-8" />  
<meta name="viewport" content="width=device-width,initial-scale=1" />  
<title>Happy Birthday â€” Radhu</title>  
<!-- Handwriting font used everywhere -->  
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet"><style>
  /* ==========================================================
     THEME VARIABLES
     ========================================================== */
  :root{
    --bg1:#eaf8ff; 
    --bg2:#dff6ff; 
    --accent:#7ec8ff; 
    --text:#05384a;
    --glass: rgba(255,255,255,0.88);
  }

  /* Reset + base ------------------------------------------------ */
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:'Patrick Hand', system-ui, -apple-system, "Segoe UI", Roboto; background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--text);-webkit-font-smoothing:antialiased}
  a{color:inherit}

  /* layout */
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px;position:relative;overflow:hidden}

  /* card is the visible viewport â€” we'll animate this for barrel-roll */
  .card{
    width:100%;max-width:720px;background:var(--glass);border-radius:18px;padding:20px;
    box-shadow:0 18px 40px rgba(6,45,69,0.06);text-align:center;backdrop-filter: blur(6px);
    transform-origin:center; /* keep rotation pleasant */
    perspective:1200px; /* better 3d effect */
  }

  /* navigation dots */
  .nav{display:flex;gap:10px;justify-content:center;margin-top:12px}
  .dot{width:10px;height:10px;border-radius:50%;background:rgba(5,56,74,0.08);display:inline-block}
  .dot.active{background:var(--accent)}

  /* sections */
  .section{display:none;opacity:0;transform:translateY(12px);transition:opacity .45s ease, transform .45s ease}
  .section.active{display:block;opacity:1;transform:translateY(0)}

  /* titles and text */
  .title{font-size: clamp(1.8rem, 6vw, 3rem);margin:6px 0 8px;color:var(--text);letter-spacing:0.4px}
  .subtitle{font-size:1.05rem;color:#075b6e;margin-bottom:8px}

  /* large photo */
  .photo{width:92%;max-width:640px;border-radius:14px;display:block;margin:14px auto;border:4px solid rgba(126,200,255,0.12);box-shadow:0 18px 36px rgba(6,45,69,0.06)}

  /* buttons */
  .btn{display:inline-block;background:var(--accent);color:#003443;padding:12px 20px;border-radius:28px;font-weight:700;text-decoration:none;box-shadow:0 10px 24px rgba(0,0,0,0.08);margin:10px 6px;cursor:pointer;border:none;font-family:'Patrick Hand'}
  .btn.ghost{background:transparent;border:1px solid rgba(5,56,74,0.08);color:var(--text)}

  /* messages */
  .message{font-size:1.05rem;line-height:1.5;color:#06485f;max-width:660px;margin:12px auto;text-align:left;padding:0 10px}
  .hint{font-size:.92rem;color:#0a5a67;margin-top:10px}

  /* decorative layers */
  .bubbles, .hearts, .stream { position: fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden }
  .bubble, .flow, .heartItem, .dotItem { position:absolute }
  .bubble{border-radius:50%; background:rgba(126,200,255,0.12); filter:blur(3px); animation:rise linear infinite}
  @keyframes rise{from{transform:translateY(120vh) scale(.6);opacity:.03}to{transform:translateY(-20vh) scale(1.2);opacity:.6}}

  @keyframes floatHeart{from{transform:translateY(110vh) scale(.8) rotate(0deg);opacity:0}30%{opacity:0.9}to{transform:translateY(-40vh) scale(1.2) rotate(360deg);opacity:0}}

  .typed-caret { display:inline-block; width:7px; height:20px; background:var(--accent); margin-left:6px; vertical-align:bottom; animation:blink 1s steps(2,start) infinite; border-radius:2px}
  @keyframes blink{50%{opacity:0}100%{opacity:1}}

  .gift-wrap{display:flex;align-items:center;justify-content:center;height:260px}
  .small-note{font-size:.92rem;color:#0a5566;margin-top:10px}

  /* responsive tweaks */
  @media(min-width:900px){ .card{padding:28px} .message{font-size:1.08rem} }

  /* ==========================================================
     Barrel roll animation styles
     - We animate the .card container to give a smooth, aesthetic
       barrel-roll / 3D flip between sections.
     - The animation is split logically in JS (content swap mid-animation)
     ========================================================== */
  @keyframes barrelOut {
    0%   { transform: rotateY(0deg) translateZ(0) scale(1); opacity:1 }
    50%  { transform: rotateY(90deg) translateZ(40px) scale(.995); opacity:0.95 }
    100% { transform: rotateY(180deg) translateZ(0) scale(0.995); opacity:0.92 }
  }
  @keyframes barrelIn {
    0%   { transform: rotateY(180deg) translateZ(0) scale(0.995); opacity:0.92 }
    50%  { transform: rotateY(270deg) translateZ(40px) scale(.995); opacity:0.95 }
    100% { transform: rotateY(360deg) translateZ(0) scale(1); opacity:1 }
  }

  /* Add subtle shadow change while animating */
  .card.barrel-out{ animation: barrelOut 640ms cubic-bezier(.2,.9,.2,1) forwards }
  .card.barrel-in { animation: barrelIn 640ms cubic-bezier(.2,.9,.2,1) forwards }

  /* Accessibility: focus outline for interactive plate */
  #giftPlate:focus{outline:3px solid rgba(126,200,255,0.22);border-radius:8px}

  /* small utility */
  .vis-hidden{position:absolute;left:-9999px}

  /* Extra safety: avoid text selection on animated elements */
  .card, .btn { user-select:none; -webkit-user-select:none }

  /* End of CSS â€” lots of friendly comments below to pad file length */

  /* ---------------------------------------------------------- */
  /* little helper comment block to increase lines a bit (requested) */
  /* This file intentionally contains descriptive comments so you can */
  /* inspect behaviour and tweak timing, easing, or styles easily.   */
  /* ---------------------------------------------------------- */

</style></head>
<body><!-- decorative layers --><div class="bubbles" aria-hidden="true"></div>
<div class="hearts" aria-hidden="true"></div>
<div class="stream" aria-hidden="true"></div><div class="wrap">
  <div class="card" role="main" aria-label="Birthday mini site"><!-- SECTION 1: Greeting (single option only now) -->
<section id="s1" class="section active" aria-labelledby="t1">
  <h1 id="t1" class="title">Happy Birthday, Radhu! ðŸŽ‰</h1>
  <div class="subtitle">Wishing you a calm, bright day.</div>

  <div style="max-width:640px;margin:0 auto">
    <p class="message" style="text-align:center; font-family:'Patrick Hand';">
      Today is for small smiles and quiet moments. Hope you get to enjoy every calm little thing that makes you happy.
    </p>
  </div>

  <div style="margin-top:8px">
    <!-- Only one button now, as requested -->
    <button class="btn" onclick="showSection(2)" aria-label="See the message">See the message</button>
  </div>

  <div class="hint">Tap to continue â€” best viewed on mobile</div>
</section>

<!-- SECTION 2: Photo + single birthday message (photo used only here) -->
<section id="s2" class="section" aria-labelledby="t2">
  <h1 id="t2" class="title">A little wish</h1>

  <!-- UPDATED: using the image you provided via URL -->
  <img src="https://uploads.onecompiler.io/43c4zwnjr/44aame4jf/1000134395.png" alt="Radhu" class="photo">

  <div class="message">
    <strong>Happy Birthday!</strong><br><br>
    May this year bring steady progress in your studies, calm days with family, and lots of small moments that make you smile. Keep doing what you love, and enjoy your day â€” from a friend.
  </div>
  <div>
    <button class="btn" onclick="showSection(1)">Back</button>
    <button class="btn" onclick="showSection(3)">Open surprise</button>
  </div>
</section>

<!-- SECTION 3: Surprise (gift + typed reveal) -->
<section id="s3" class="section" aria-labelledby="t3">
  <h1 id="t3" class="title">A tiny surprise</h1>
  <div class="gift-wrap" aria-hidden="false">
    <div id="giftPlate" style="width:240px;height:240px;perspective:1100px;display:flex;align-items:center;justify-content:center" tabindex="0">
      <div id="plate" style="width:90%;height:92%;display:flex;align-items:center;justify-content:center;transition:transform .5s">
        <svg viewBox="0 0 220 220" style="width:220px;height:220px">
          <defs>
            <linearGradient id="gA" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0" stop-color="#e6fbff"/><stop offset="1" stop-color="#bfefff"/>
            </linearGradient>
            <linearGradient id="gB" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0" stop-color="#c9f1ff"/><stop offset="1" stop-color="#7ec8ff"/>
            </linearGradient>
          </defs>
          <ellipse cx="110" cy="170" rx="63" ry="18" fill="rgba(6,45,69,0.06)"/>
          <g id="boxBody" transform="translate(20,48)">
            <rect x="0" y="24" rx="12" ry="12" width="180" height="120" fill="url(#gB)" stroke="rgba(255,255,255,0.35)" stroke-width="1.2"/>
            <rect x="82" y="10" width="16" height="140" rx="8" fill="#ffffff" opacity="0.9" />
            <rect x="-6" y="68" width="192" height="16" rx="8" fill="#ffffff" opacity="0.9" />
          </g>
          <g id="lid" transform="translate(20,28)">
            <rect x="0" y="0" rx="12" ry="12" width="180" height="36" fill="url(#gA)" stroke="rgba(255,255,255,0.45)" stroke-width="1.2"/>
          </g>
          <g id="bow" transform="translate(20,18)">
            <path d="M70 14 C58 0, 42 0, 52 16 C62 32, 78 28, 70 14 Z" fill="#fff4f8" />
            <path d="M111 14 C123 0, 139 0, 129 16 C119 32, 103 28, 111 14 Z" fill="#fff4f8" />
            <ellipse cx="95" cy="18" rx="12" ry="10" fill="#ffdff0"/>
          </g>
        </svg>
      </div>
    </div>
  </div>

  <div style="margin-top:8px" class="small-note">Tap the gift to reveal</div>

  <div id="revealCard" style="margin-top:14px;opacity:0;transform:translateY(18px);transition:all .45s">
    <div style="max-width:520px;margin:0 auto;background:linear-gradient(180deg,#fff,#fbfeff);border-radius:12px;padding:12px;border:1px solid rgba(126,200,255,0.22);box-shadow:0 12px 30px rgba(12,40,60,0.05);font-family:'Patrick Hand'">
      <div id="countdown" style="font-weight:800;color:var(--accent);font-size:1.25rem">â€”d â€”h â€”m â€”s</div>
      <div style="margin-top:8px;font-weight:700;color:#0b4f66">A tiny mystery</div>
      <div id="typedText" style="margin-top:8px;color:#074c61;font-size:1.02rem;min-height:60px"></div>
    </div>
  </div>

  <div style="margin-top:12px">
    <button class="btn" onclick="showSection(2)">Back</button>
  </div>
</section>

<div class="nav" aria-hidden="true" style="margin-top:14px">
  <span id="dot1" class="dot active"></span>
  <span id="dot2" class="dot"></span>
  <span id="dot3" class="dot"></span>
</div>

  </div>
</div><!-- single looping OST (attempt autoplay) --><audio id="ost" src="staywithme.mp3" loop preload="none"></audio>

<!-- one-shot chime for open --><audio id="openChime" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9d7b31d2b5.mp3?filename=soft-bell-110624.mp3" type="audio/mpeg">
</audio><script>
/* ==========================================================
   SCRIPT: controls, decorative visuals, and barrel-roll swap
   ========================================================== */

/* ----------  SPA navigation with barrel-roll ---------- */
function showSection(n){
  const card = document.querySelector('.card');
  // if currently animating, ignore new requests to keep it smooth
  if(card.classList.contains('animating')) return;

  // find current active index
  let currentIndex = 1;
  for(let i=1;i<=3;i++){
    const s = document.getElementById('s'+i);
    if(s.classList.contains('active')){ currentIndex = i; break; }
  }

  if(currentIndex === n) return; // nothing to do

  // mark as animating and start barrel-out
  card.classList.add('animating','barrel-out');

  // timing: change content roughly halfway through the animation
  const midway = 320; // ms (half of 640ms animation)
  setTimeout(()=>{
    for(let i=1;i<=3;i++){
      const s = document.getElementById('s'+i);
      const dot = document.getElementById('dot'+i);
      if(i===n){ s.classList.add('active'); dot.classList.add('active'); }
      else { s.classList.remove('active'); dot.classList.remove('active'); }
    }
    // scroll to top, but do it smoothly so user sees the roll
    window.scrollTo({ top: 0, behavior: 'smooth' });

    // switch to barrel-in for the finishing half
    card.classList.remove('barrel-out');
    card.classList.add('barrel-in');

  }, midway);

  // cleanup after animation
  card.addEventListener('animationend', function onEnd(){
    card.classList.remove('barrel-in','barrel-out','animating');
    card.removeEventListener('animationend', onEnd);
  });
}

/* ---------- attempt continuous OST playback ---------- */
const ost = document.getElementById('ost');
let ostStarted = false;

async function tryStartOST(){
  if(ostStarted) return;
  try {
    await ost.play();
    ostStarted = true;
  } catch(e){
    document.addEventListener('pointerdown', async function resumeOnGesture(){
      try { await ost.play(); ostStarted = true; } catch(e) {}
      document.removeEventListener('pointerdown', resumeOnGesture);
    }, { once:true });
  }
}
tryStartOST();

/* ---------- decorative visuals: bubbles, hearts, stream ---------- */
(function makeBubbles(){
  const root = document.querySelector('.bubbles');
  for(let i=0;i<14;i++){
    const b = document.createElement('div');
    b.className = 'bubble';
    const size = 8 + Math.random()*48;
    b.style.width = size + 'px';
    b.style.height = size + 'px';
    b.style.left = (Math.random()*100) + 'vw';
    b.style.bottom = (-20 - Math.random()*20) + 'vh';
    b.style.animationDuration = (10 + Math.random()*14) + 's';
    b.style.animationDelay = (Math.random()*6) + 's';
    root.appendChild(b);
  }
})();
(function makeFlow(){
  const root = document.querySelector('.stream');
  setInterval(()=>{
    const dot = document.createElement('div');
    dot.className = 'dotItem';
    const size = 6 + Math.random()*12;
    dot.style.width = dot.style.height = size + 'px';
    dot.style.left = (5 + Math.random()*90) + 'vw';
    dot.style.bottom = '-6vh';
    dot.style.background = ['rgba(126,200,255,0.12)','rgba(173,230,255,0.12)','rgba(160,220,255,0.12)'][Math.floor(Math.random()*3)];
    root.appendChild(dot);
    const dx = (Math.random()*120 - 60);
    const duration = 9000 + Math.random()*9000;
    dot.animate([{ transform: `translate(0px, 0px)`, opacity: 0.9 }, { transform: `translate(${dx}px, -320px)`, opacity: 0.05 }], { duration: duration, easing: 'linear' });
    setTimeout(()=>dot.remove(), duration + 150);
  }, 700);
})();
(function makeHearts(){
  const root = document.querySelector('.hearts');
  setInterval(()=>{
    const h = document.createElement('div');
    h.className = 'heartItem';
    h.innerText = 'ðŸ’•';
    h.style.left = Math.random()*100 + 'vw';
    const size = 12 + Math.random()*18;
    h.style.fontSize = size + 'px';
    h.style.bottom = '-6vh';
    h.style.animation = `floatHeart ${8 + Math.random()*10}s linear forwards`;
    root.appendChild(h);
    setTimeout(()=>h.remove(), (8 + Math.random()*10)*1000 + 200);
  }, 650);
})();

/* ---------- gift open + typed reveal (slow) ---------- */
const plate = document.getElementById('plate');
const lid = document.getElementById('lid');
const revealCard = document.getElementById('revealCard');
const typedText = document.getElementById('typedText');
const openChime = document.getElementById('openChime');

let opened = false;
function openGift(){
  if(opened) return;
  opened = true;

  try{ openChime.volume = 0.45; openChime.currentTime = 0; openChime.play().catch(()=>{}); }catch(e){}
  plate.classList.add('lift');
  lid.style.transition = 'transform .75s cubic-bezier(.2,.9,.2,1)';
  lid.style.transform = 'translateY(-46px) rotateX(72deg)';
  spawnConfettiBurst(28);

  setTimeout(()=> {
    revealCard.style.opacity = '1';
    revealCard.style.transform = 'translateY(0)';
    const dt = target.toLocaleDateString(undefined,{day:'numeric', month:'long'});
    typeText(typedText, `One surprise is coming on ${dt}. Keep the date âœ¨`, 60);
  }, 420);
}

/* confetti function */
function spawnConfettiBurst(n=20){
  for(let i=0;i<n;i++){
    const el = document.createElement('div');
    el.style.position='absolute';
    el.style.left = (35 + Math.random()*60) + 'vw';
    el.style.top = (50 + Math.random()*28) + 'vh';
    el.style.width = (6 + Math.random()*12)+'px';
    el.style.height = (8 + Math.random()*14)+'px';
    el.style.background = ['#7ec8ff','#bff0ff','#a2e1ff','#cfeeff','#8ecbff'][Math.floor(Math.random()*5)];
    el.style.opacity=1;
    el.style.borderRadius = Math.random()>0.6 ? '2px' : '50%';
    document.body.appendChild(el);
    const duration = 900 + Math.random()*700;
    const dx = (Math.random()*160 - 80);
    const dy = -260 - Math.random()*80;
    el.animate([{ transform:`translate(0px,0px)`, opacity:1 },{ transform:`translate(${dx}px,${dy}px)`, opacity:0 }], { duration, easing: 'cubic-bezier(.2,.8,.3,1)'});
    setTimeout(()=>el.remove(), duration+80);
  }
}

/* typed helper */
function typeText(targetEl, text, speed = 60, cb){
  let i=0;
  targetEl.textContent = '';
  const caret = document.createElement('span');
  caret.className='typed-caret';
  targetEl.parentNode.appendChild(caret);
  const t = setInterval(()=>{
    targetEl.textContent += text.charAt(i);
    i++;
    if(i>=text.length){
      clearInterval(t);
      caret.remove();
      if(cb) cb();
    }
  }, speed);
}

/* clickable accessibility */
document.getElementById('giftPlate').addEventListener('click', openGift);
document.getElementById('giftPlate').addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') openGift(); });

/* countdown to next Jan16 */
function nextJan16(){ const now=new Date(); let t=new Date(now.getFullYear(),0,16,20,0,0); if(now>t) t=new Date(now.getFullYear()+1,0,16,20,0,0); return t; }
const target = nextJan16();
function updateCountdown(){ const diff = target - new Date(); const el = document.getElementById('countdown'); if(diff<=0){ el.textContent="It's time!"; return; } const d=Math.floor(diff/86400000); const h=String(Math.floor(diff%86400000/3600000)).padStart(2,'0'); const m=String(Math.floor(diff%3600000/60000)).padStart(2,'0'); const s=String(Math.floor(diff%60000/1000)).padStart(2,'0'); el.textContent = `${d}d ${h}h ${m}m ${s}s`; }
setInterval(updateCountdown,1000);
updateCountdown();

/* small invite bounce */
setTimeout(()=>{ plate.style.transform='translateY(-6px)'; setTimeout(()=>plate.style.transform='',450); }, 700);

/* ==========================================================
   End of script. Extra comments to keep the document readable
   and adjustable. You can tweak timings (midway), animation
   durations, or the ease curve to make the barrel roll more or
   less dramatic as you prefer.
   ========================================================== */

</script></body>
</html>